{{- /* Copyright 2026 Phillip Cloud */ -}}
{{- /* Licensed under the Apache License, Version 2.0 */ -}}

{{- $docs := site.GetPage "docs" -}}
<nav class="docs-sidebar">
  <div class="sidebar-brand">
    <a class="sidebar-brand-link" href="/">micasa<span class="dot">.</span></a>
    <a class="sidebar-house" href="{{ $docs.RelPermalink }}" title="Docs">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="18" height="18">
        <polygon points="16,4 2,16 6,16 6,28 26,28 26,16 30,16" fill="currentColor"/>
        <rect x="13" y="19" width="6" height="9" fill="var(--cream, #faf6f1)"/>
      </svg>
    </a>
  </div>
  <div class="sidebar-nav">
    {{ $currentURL := .RelPermalink }}

    {{ range $docs.Sections.ByWeight }}
      <div class="sidebar-section">{{ .Title }}</div>
      <ul>
        {{ range .Pages.ByWeight }}
          <li><a href="{{ .RelPermalink }}"{{ if eq .RelPermalink $currentURL }} class="active"{{ end }}>{{ .LinkTitle }}</a></li>
        {{ end }}
      </ul>
    {{ end }}

    <div class="sidebar-external">
      <a href="{{ "blog/" | relURL }}">Blog</a>
      <a href="https://github.com/cpcloud/micasa">GitHub</a>
    </div>
  </div>
</nav>
